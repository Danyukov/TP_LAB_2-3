Вот обновлённый **README.md** с учётом того, что **промокоды хранятся в БД**, проект запускается **в Docker**, CI/CD не делаем, тесты запускаются через `manage.py test`.

Скопируй целиком в `README.md` и при желании замени ссылку на репозиторий/автора.

---

# Лабораторная работа №2 — Изучение фреймворка MVC (Django)

## Постановка задачи

Цель лабораторной работы — изучить модель **MVC** на примере веб-приложения интернет-магазина, реализованного с использованием **Django** (Python), и получить практические навыки:

* работы с сущностями **Model / View / Template** (MTV-подход Django как реализация MVC);
* подключения базы данных **PostgreSQL** и выполнения миграций;
* загрузки данных через фикстуры;
* написания и запуска модульных тестов;
* доработки функциональности проекта по индивидуальному варианту.

В качестве основы используется учебный проект PTLab2.

## Индивидуальный вариант

**Вариант 1 — Магазин детских игрушек.**
Реализована возможность ввода **промокода**, при применении которого цены на товары снижаются на **5% / 10% / 15%**.

Поддерживаемые промокоды (хранятся в БД):

* `TOYS5` → скидка 5%
* `TOYS10` → скидка 10%
* `TOYS15` → скидка 15%

## Краткое описание проекта

Приложение отображает список товаров, позволяет оформить покупку и применить промокод для отображения цены со скидкой в каталоге.

## MVC (MTV) в Django

Django использует подход **MTV**:

* **Model** — `shop/models.py` (описание сущностей и работа с БД)
* **View** — `shop/views.py` (логика обработки запросов)
* **Template** — `shop/templates/...` (HTML-представления)

## Реализованная функциональность варианта 1

1. Добавлена модель **PromoCode** (промокоды в базе данных):

   * код промокода
   * процент скидки (5/10/15)
   * флаг активности
2. Добавлена форма ввода промокода (`shop/forms.py`) с валидацией:

   * если промокод не найден/не активен → выводится сообщение об ошибке
3. Доработана страница каталога (`shop/views.py`, `shop/index.html`):

   * отображается форма промокода
   * при активном промокоде показывается зачёркнутая старая цена и новая цена со скидкой
4. Добавлены модульные тесты промокодов (Django TestCase).

## Структура проекта (важные файлы)

* `tplab2/` — настройки Django-проекта (settings, urls, wsgi)
* `shop/` — приложение магазина

  * `models.py` — модели `Product`, `Purchase`, `PromoCode`
  * `views.py` — вывод каталога и обработка покупки
  * `forms.py` — `PromoCodeForm`
  * `templates/shop/index.html` — шаблон каталога
  * `tests/` — модульные тесты
* `products.yaml` — фикстура для наполнения БД товарами
* `promo_codes.yaml` — фикстура промокодов (TOYS5/10/15)
* `manage.py` — управляющий скрипт Django
* `Dockerfile`, `docker-compose.yml`, `entrypoint.sh` — запуск проекта в Docker

## Технологии

* Python (в контейнере)
* Django
* PostgreSQL
* Docker / Docker Compose
* unittest / Django TestCase



## Выводы

В ходе работы:

* изучена модель MVC/MTV на практике в Django;
* настроена работа с PostgreSQL (миграции, загрузка данных);
* реализована индивидуальная функциональность (промокоды со скидками 5/10/15%), причём промокоды хранятся в БД;
* добавлены модульные тесты и выполнена проверка их успешного прохождения;
* приложение развёрнуто и запускается в Docker.
